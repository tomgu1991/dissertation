\begin{figure}[t]
	\centering
	\begin{lstlisting}
(*@\textcolor{black}{"summary": "fix setting of 'ret' error return for a few cases",}@*)
"date": "2018-08-16",
"author": "Jens Axboe",
drivers/block/pktcdvd.c
=======================================================
@@ -2740,6 +2740,7 @@ static int pkt_setup_dev(dev_t dev, dev_t* pkt_dev)
pd->write_congestion_on  = write_congestion_on;
pd->write_congestion_off = write_congestion_off;

+	ret = -ENOMEM;
	disk = alloc_disk(1);
	if (!disk)
		goto out_mem;
	\end{lstlisting}
	\caption{
		Linux接口误用缺陷200505修复细节
	}
	\label{fig:4-4-linux-example-fix}
\end{figure}